<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration de l'Application | Sécurité Urbaine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }
        
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .transition-all {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50">
    {% extends 'base.html' %}
    {% load static %}

    {% block title %}Configuration de l'Application | Sécurité Urbaine{% endblock %}

    {% block content %}
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="bg-white rounded-xl shadow-md overflow-hidden transition-all card-hover">
            <div class="gradient-bg px-6 py-4">
                <div class="flex items-center">
                    <i class="fas fa-cogs text-white text-xl mr-3"></i>
                    <h2 class="text-xl font-semibold text-white">Configuration de l'Application</h2>
                </div>
            </div>
            
            <div class="p-6">
                <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6 rounded">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fas fa-info-circle text-blue-500"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-blue-700">
                                <span class="font-semibold">Mode Simulation:</span> Les modèles sélectionnés sont simulés et ne représentent pas des modèles d'IA réels en fonctionnement.
                                Cette interface permet de tester la configuration qui sera utilisée lorsque les modèles réels seront intégrés.
                            </p>
                        </div>
                    </div>
                </div>
                
                <form method="post" action="{% url 'core:settings' %}">
                    {% csrf_token %}
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                        <!-- Detection Model Card -->
                        <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden transition-all card-hover">
                            <div class="px-4 py-3 bg-gray-50 border-b border-gray-200">
                                <div class="flex items-center">
                                    <i class="fas fa-camera text-gray-600 mr-2"></i>
                                    <h3 class="text-lg font-medium text-gray-800">Modèle de Détection</h3>
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="mb-4">
                                    <label for="id_active_detection_model" class="block text-sm font-medium text-gray-700 mb-1">Modèle actif</label>
                                    <div class="mt-1">
                                        {{ form.active_detection_model }}
                                    </div>
                                    <p class="mt-1 text-xs text-gray-500">
                                        Sélectionnez le modèle de détection d'armes à utiliser pour l'analyse des images.
                                    </p>
                                </div>
                                
                                <div class="mb-2">
                                    <label for="id_dangerous_threshold" class="block text-sm font-medium text-gray-700 mb-1">Seuil de confiance (0.1 - 1.0)</label>
                                    <div class="mt-1">
                                        {{ form.dangerous_threshold }}
                                    </div>
                                    <p class="mt-1 text-xs text-gray-500">
                                        Seuil de confiance minimum pour considérer une détection comme valide.
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Chatbot Model Card -->
                        <div class="bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden transition-all card-hover">
                            <div class="px-4 py-3 bg-gray-50 border-b border-gray-200">
                                <div class="flex items-center">
                                    <i class="fas fa-robot text-gray-600 mr-2"></i>
                                    <h3 class="text-lg font-medium text-gray-800">Modèle de Chatbot</h3>
                                </div>
                            </div>
                            <div class="p-4">
                                <div class="mb-2">
                                    <label for="id_active_chatbot_model" class="block text-sm font-medium text-gray-700 mb-1">Modèle actif</label>
                                    <div class="mt-1">
                                        {{ form.active_chatbot_model }}
                                    </div>
                                    <p class="mt-1 text-xs text-gray-500">
                                        Sélectionnez le modèle de chatbot à utiliser pour générer les instructions de sécurité.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6">
                        <button type="submit" class="w-full md:w-auto flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white gradient-bg hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all">
                            <i class="fas fa-save mr-2"></i>
                            Enregistrer les Paramètres
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {% endblock %}
</body>
</html>